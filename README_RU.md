# Collector Games
Автоматический сборщик игр со 100% скидкой в Steam. Легкий фоновый мониторинг через библиотеку requests и интеграцией в системный трей для удобной настройки.

## Рабочий процесс
1. **Мониторинг**: Легкий запрос через Requests для проверки новых игр.
2. **Сравнение**: Сопоставление данных с локальной базой.
3. **Автоматизация**: При обнаружении новых игр запускается Playwright для выполнения действий (обработка JS).
4. **Ожидание**: Программа переходит в режим ожидания на 5 часов, после чего цикл повторяется.

## Стек технологий
- **python 3.13**
- **Requests + BeautifulSoup4 (lxml)** — быстрый мониторинг обновлений и парсинг статического контента.
- **Playwright** — автоматизация браузера для взаимодействия с элементами (добавление игр), требующими выполнения JS.
- **APScheduler** — планирование задач и управление интервалами.
- **Loguru** — расширенное логирование событий.
- **JSON** — локальное хранилище данных.
- **psutil** — управление системными процессами и принудительное завершение браузера.

## Установка

!Важно: В системе должен быть установлен Python 3.13+. При установке Python обязательно отметьте галочку "Add Python to PATH".

### Вариант 1: Для пользователей без Git
1. Скачай [ZIP-архив](https://github.com/Falltiker/collector-games/archive/refs/heads/main.zip) и распакуй его.
2. Запусти скрипт [setup.bat](setup.bat), который создаст окружение и установит зависимости.

### Вариант 2: Через Git
git clone https://github.com/Falltiker/collector-games.git
cd collector-games
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt

## Использование
1. Запусти скрипт run.bat один раз для ручной авторизации в Steam.
2. Запусти enable_autostart.bat для включения автозагрузки программы при включении ПК.

## Архитектура проекта
collector-games
├─ config
│  └─ chrome_config.json    # Конфигурация браузера
├─ data
│  └─ games.json            # Хранилище данных (база игр)
├─ src
│  ├─ automation.py         # Playwright
│  ├─ collector.py          # Requests
│  └─ utils
│     └─ chrome_manager.py  # Менеджер экземпляров браузера
├─ main.py                  # Точка входа
├─ run.bat                  # Скрипт быстрого запуска
├─ enable_autostart.bat     # Скрипт настройки автозагрузки
├─ setup.bat                # Скрипт автоматической настройки окружения
└─ start.vbs                # Скрипт для скрытой работы программы

- [Chrome Manager](src/utils/chrome_manager.py): кастомный модуль для инициализации браузера в несколько строк кода. Удобная настройка контекста и параметров запуска.
- Автоматизация: Проект включает .vbs и .bat скрипты для настройки автозагрузки Windows, что позволяет парсеру работать в фоне без вмешательства пользователя.
- Зависимости: Полный список библиотек доступен в [requirements.txt](requirements.txt).